<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Integrity_analyzer</title>
	<link rel="stylesheet" href="css\project.css">
	<script>
		function validate() {
			const password = document.getElementById("password-field").value;
			const username = document.getElementById("username-field").value;
			const petname = document.getElementById("petname-field").value;
			const DOB = document.getElementById("DOB-field").value;
			
			
			
			let d = DOB.slice(8,10)+DOB.slice(5,7)+DOB.slice(0,4);
			let d1= DOB.slice(8,10)+"/"+DOB.slice(5,7)+"/"+DOB.slice(0,4);
			let d2= DOB.slice(8,10)+"-"+DOB.slice(5,7)+"-"+DOB.slice(0,4);
		

	        
				//console.log(x);
			
			
			if (password.length < 8) {
				document.getElementById("msg").innerHTML = "Password should be atleast 8 character";
				document.getElementById("msg").style.color = "red";
				return;
			}
			if (password.length > 25) {
				document.getElementById("msg").innerHTML = "Password shouldn't exceed 25 characters";
				document.getElementById("msg").style.color = "red";
				return;
			}
               let s1 = "";
			   let s2 = "";
			   let s3 = "";
			  

			if (username.length != 0 && petname.length != 0 && DOB.length != 0 ) {
			
			
				if (password.toUpperCase().indexOf(username.toUpperCase()) != -1) {
					 s1 = " username "; 
				}
				if (password.toUpperCase().indexOf(petname.toUpperCase()) != -1) {
					s2 = " petname ";
				}
				if (password.indexOf(d) != -1 || password.indexOf(d1) != -1 || password.indexOf(d2) != -1 ) {
				     s3= " DOB ";
				}
             if(s1 != "" || s2 !="" || s3 !="")
			 { document.getElementById("msg").innerHTML = "Avoid using"+s1+s2+s3+"in the password";
			    document.getElementById("msg").style.color = "red";
			   return;
			}
			
			}
									

			var matchedCase = new Array();
			matchedCase.push("[$@$!%*#?&]");
			matchedCase.push("[A-Z]");
			matchedCase.push("[0-9]");
			matchedCase.push("[a-z]");

            

			var ctr = 0;
			for (var i = 0; i < matchedCase.length; i++) {
				if (new RegExp(matchedCase[i]).test(password)) {
					ctr++;
				}
			}
              // console.log(ctr);
			var color = "";
			var strength = "";
			switch (ctr) {
				case 0:
				case 1:
				strength = "Very Weak";
					color = "red";
					break;
				case 2:
					strength = "Weak";
					color = "red";
					break;
				case 3:
					strength = "Medium";
					color = "orange";
					break;
				case 4:
					strength = "Strong";
					color = "green";
					break;
			}
			document.getElementById("msg").innerHTML = strength;
			document.getElementById("msg").style.color = color;
		}	

	</script>
<script>
function date(){
	const DOB= document.getElementById("DOB-field").value;
	if(DOB.length>10){
		 document.getElementById("msg1").innerHTML = "Date invalid";
		 document.getElementById("msg1").style.color = "red";
		 return;        	
}
if(DOB.length<=10){
	document.getElementById("msg1").innerHTML = "";
    return;
}
}

</script>
</head>

<body>

	<table id="analyzer-table" border=1>
		<tr height="10%" bgcolor="#3a3a3a">
			<td>
				<div id="analyzer-image-holder">
					<img src="images/logo_2x.png" alt="UVCE" width="300" height="100">
				</div>
		</tr>
		</td>

		<tr>
			<td align="Center" background="images\UVCEMain.jpg">

				<main id="main-holder">

					<h1 id="analyzer-header">Integrity Analyzer</h1>



					<form id="analyzer-form">

						<input type="text" name="username" id="username-field" class="analyzer-form-field"
							placeholder="Username">

						<input type="text" name="petname" id="petname-field" class="analyzer-form-field"
							placeholder="Pet's name">

						<input type="date" name="DOB" id="DOB-field" class="analyzer-form-field" placeholder="ddmmyyyy" onkeyup="date();"><p id="msg1"></p>

						<div>Enter the above details for a better password integrity check(Optional)</div>


						<p><input type="text" name="password" id="password-field" class="analyzer-form-field"
								placeholder="Type in password to check" onkeyup="validate();"></p>

						<p id="msg"></p>
					</form>
				</main>


		</tr>
		</td>
		<tr>
			<td align="Center" bgcolor="#3a3a3a">
				<font size="1" color="white">Copyrights reserved</a></font>
		</tr>
		</td>
	</table>
</body>

</html>
